<script>
  $(document).ready(function() { $(".select2").select2({theme: "bootstrap"}); });
</script>

<div class="page-header">
  <h1>
  	<span class="glyphicon glyphicon-calendar"></span>
  	Réservation de créneaux horaires
  </h1>
</div>
<div>
  <h3>Cette fonction permet la création automatique de créneaux horaires réservés à la scolarité</h3>
</div>

<br>

<%= form_tag({action: "creation_cours_do", method: :post}, multipart: true) do %>

  <div class="form-group">
    <div class="row">
      <div class="col-sm-5">

        <%= label_tag :debut, "Réserver des créneaux horaires à partir du" %><br>
        <%= datetime_select :cours, :start_date, minute_step:15 %>
        <br><br>

        <%= label_tag :duree, "Durée (h)" %>
        <%= select_tag :duree, options_for_select(['0.5','1.0','1.5','2.0','2.5','3.0','3.5','4.0']), 
                          include_blank:true, class:"form-control" %>
        <br>

        <div class="field">
          <%= label_tag :jours, nil %><br>
          <%= check_box_tag :lundi %> Lundi 
          <%= check_box_tag :mardi %> Mardi 
          <%= check_box_tag :mercredi %> Mercredi
          <%= check_box_tag :jeudi %> Jeudi
          <%= check_box_tag :vendredi %> Vendredi
          <%= check_box_tag :samedi %> Samedi
        </div>
        <br>

        <%= label_tag :fin, "Répéter jusqu'au" %><br>
        <%= date_select :cours, :end_date %>
        <br><br>

      </div>

      <div class="col-sm-1"></div>

      <div class="col-sm-6">

        <%= label_tag "Formation" %>    
        <%= select_tag :formation_id, 
              options_from_collection_for_select(Formation.all, :id, :nom_promo), class:"form-control select2", include_blank:true %>
        <br>

        <%= label_tag :intervenant_id, "Intervenant" %>
        <%= select_tag :intervenant_id,
              options_from_collection_for_select(Intervenant.all, :id, :nom_prenom), class:"form-control select2", include_blank:true %>
        <br>

        <div class="form-group">
          <div class="col-sm-8">
            <%= label_tag :nom, "Nom du cours" %>
            <%= text_field_tag :nom, params[:nom], class:"form-control" %>
          </div>

          <div class="col-sm-4">
          <%= label_tag :salle_id, "Salle" %>
            <%= select_tag :salle_id, options_from_collection_for_select(Salle.all, :id, :nom_places, params[:salle_id]), include_blank: true, class:"form-control" %>
          </div>
        </div>
        <br><br><br>

        <div class="field">
          <b>Enregistrer les changements ?</b> <br>
          <%= label :save, "Oui", :value => "true" %>
          <%= radio_button_tag :save, true %>
          <%= label :save, "Non", :value => "false" %>
          <%= radio_button_tag :save, false, :checked => true %>
          <br><i>Choisissez 'Non' pour tester votre création car <b>elle est irréversible !</b></i><br />
        </div>
        <br><br>
      
        <div class="actions">
          <%= submit_tag "Lancer la création", class: "btn btn-success" %>
        </div>

    </div>
  </div>
  
<% end %>